package simModel;

import simulationModelling.ConditionalActivity;

class TalkToOperator extends ConditionalActivity {
    SMTravel model;
    //Customer Type is definied in Call.java, double check
<<<<<<< HEAD
    private Call call = new Call(model);

    public TalkToOperator(SMTravel model) { this.model = model; }

    protected static boolean precondition(SMTravel simModel){
        //this may need to be modified based on other classes
        if(call.uCostmerType == Constant.GOLD)
        {
            if(simModel.Operator[GOLD].numFreeOperator>0 ||
               simModel.Operator[SILVER].numFreeOperator>0 ||
               simModel.Operator[REGULAR].numFreeOperator>0)
            {
                return true;
            }
        }
        else if (call.uCostmerType == Constant.SILVER || Constant.REGULAR)
        {
            if(simModel.Operator[SILVER].numFreeOperator>0 ||
               simModel.Operator[REGULAR].numFreeOperator>0
            {
                return true;
            }
        }
        return false;
    }

    public void startingEvent(){
        processTalkToOperator();
    }

    protected double duration(){
        return (simModel.rvp.uServiceTime(call.CallType, simModel.Operator.uOperatorType));
=======

    protected Call.CallType callType;
    protected  Operators.OperatorType operatorType;

    protected Call.CustomerType uCustomerType;
    protected UDPs udp = new UDPs(model);
    public TalkToOperator(SMTravel model) { this.model = model; }

    protected static boolean precondition(SMTravel simModel){
        boolean returnValue = false;
        //this may need to be modified based on other classes
        if(simModel.rgOperator.type == simModel.n && simModel.n != 0){
            returnValue = true;
        }
        return(returnValue);
    }

    public void startingEvent(){
        model.udp.processTalkToOperator(operatorType);
    }

    protected double duration(){
        return (model.rvp.uServiceTime(callType,operatorType));
>>>>>>> master
    }

    protected void secondaryEvent(){
        numTrunkLineInUse--;
        ssov.numServed++;
    }

    protected double secondaryDuration(){
<<<<<<< HEAD
        return (uAfterCallWorkTime(call.uCustomerType));
=======
        return (model.rvp.uAfterCallWorkTime(uCustomerType));
>>>>>>> master
    }

    protected void terminatingEvent(){
        simModel.rgOperator.numFreeOperators++;
    }
}